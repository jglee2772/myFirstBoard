<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš€ CYBER_BOARD - íšŒì›ê°€ì…</title>
    <link rel="stylesheet" th:href="@{/css/base.css}">
    <link rel="stylesheet" th:href="@{/css/auth.css}">
</head>
<body>
<header>
    <nav>
        <a href="/" class="brand glow">âš¡ CYBER_BOARD âš¡</a>
        <div class="nav-links">
            <a href="/articles" class="btn">ê²Œì‹œíŒ</a>
            <a href="/login" class="btn">ë¡œê·¸ì¸</a>
        </div>
    </nav>
</header>

<main>
    <div class="card join-card">
        <h1>ğŸš€ ë„¤íŠ¸ì›Œí¬ ë“±ë¡</h1>
        
        <form method="post" action="/join" th:object="${joinRequest}" class="join-form">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
            
            <div class="form-group">
                <label for="email">ğŸ“§ ì´ë©”ì¼ ì£¼ì†Œ</label>
                <input type="email" id="email" th:field="*{email}" class="form-control" required 
                       placeholder="your.email@example.com">
                <div th:if="${#fields.hasErrors('email')}" class="error-message" th:errors="*{email}"></div>
            </div>
            
            <div class="form-group">
                <label for="name">ğŸ‘¤ ì‚¬ìš©ìëª…</label>
                <input type="text" id="name" th:field="*{name}" class="form-control" required 
                       placeholder="Your Name">
                <div th:if="${#fields.hasErrors('name')}" class="error-message" th:errors="*{name}"></div>
            </div>
            
            <div class="form-group">
                <label for="password">ğŸ”’ ë³´ì•ˆ í‚¤</label>
                <input type="password" id="password" th:field="*{password}" class="form-control" required 
                       placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                <div th:if="${#fields.hasErrors('password')}" class="error-message" th:errors="*{password}"></div>
            </div>
            
            <div class="form-group">
                <label for="passwordConfirm">ğŸ” ë³´ì•ˆ í‚¤ í™•ì¸</label>
                <input type="password" id="passwordConfirm" name="passwordConfirm" class="form-control" required 
                       placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                <div id="passwordError" class="error-message" style="display: none; color: var(--neon-pink);">
                    ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
                </div>
            </div>
            
            <div th:if="${error}" class="error-message" style="background: rgba(255, 0, 64, 0.1); border: 1px solid var(--neon-pink); border-radius: 8px; padding: 1rem; margin-bottom: 1rem; text-align: center; font-weight: 600;">
                <span style="color: var(--neon-pink);">âš ï¸ </span>
                <span th:text="${error}"></span>
            </div>
            
            <div class="form-actions">
                <button type="submit" id="submitBtn" class="btn" style="width: 100%; margin-bottom: 1rem;">
                    âš¡ ë„¤íŠ¸ì›Œí¬ ë“±ë¡
                </button>
            </div>
        </form>
        
        <!-- ìŠ¹ì¸ ëŒ€ê¸° ì•ˆë‚´ ë©”ì‹œì§€ -->
        <div class="approval-notice" style="background: rgba(0, 123, 255, 0.1); border: 1px solid var(--neon-blue); border-radius: 8px; padding: 1rem; margin-top: 1rem; text-align: center;">
            <p style="color: var(--neon-blue); margin: 0; font-weight: 600;">
                â³ íšŒì›ê°€ì… í›„ ê´€ë¦¬ì ìŠ¹ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.
            </p>
            <p style="color: var(--text-secondary); margin: 0.5rem 0 0 0; font-size: 0.9rem;">
                ìŠ¹ì¸ ì™„ë£Œ í›„ ë¡œê·¸ì¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
            </p>
        </div>
        
        <div class="oauth-section">
            <div class="divider">
                <span>ë˜ëŠ”</span>
            </div>
            
            <a href="/oauth2/authorization/google" class="btn oauth-btn">
                ğŸŒ Google OAuth ë“±ë¡
            </a>
        </div>
        
        <div class="login-link">
            <p>ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? <a href="/login" style="color: var(--neon-green);">ë¡œê·¸ì¸</a></p>
        </div>
    </div>
</main>
<script src="https://code.jquery.com/jquery-latest.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const password = document.getElementById('password');
    const passwordConfirm = document.getElementById('passwordConfirm');
    const passwordError = document.getElementById('passwordError');
    const submitBtn = document.getElementById('submitBtn');
    const form = document.querySelector('.join-form');
    
    function checkPasswordMatch() {
        if (password.value && passwordConfirm.value) {
            if (password.value !== passwordConfirm.value) {
                passwordError.style.display = 'block';
                submitBtn.disabled = true;
                submitBtn.style.opacity = '0.5';
                submitBtn.style.cursor = 'not-allowed';
            } else {
                passwordError.style.display = 'none';
                submitBtn.disabled = false;
                submitBtn.style.opacity = '1';
                submitBtn.style.cursor = 'pointer';
            }
        } else {
            passwordError.style.display = 'none';
            submitBtn.disabled = false;
            submitBtn.style.opacity = '1';
            submitBtn.style.cursor = 'pointer';
        }
    }
    
    password.addEventListener('input', checkPasswordMatch);
    passwordConfirm.addEventListener('input', checkPasswordMatch);
    
    form.addEventListener('submit', function(e) {
        if (password.value !== passwordConfirm.value) {
            e.preventDefault();
            passwordError.style.display = 'block';
            passwordConfirm.focus();
            return false;
        }
    });
});
</script>


</body>
</html>

